# ğŸŒŠ Simulador de HidrÃ´metro Digital

Projeto desenvolvido para a disciplina **PadrÃµes de Projetos** do **IFPB** (Instituto Federal de EducaÃ§Ã£o, CiÃªncia e Tecnologia da ParaÃ­ba).

## ğŸ“‹ Sobre o Projeto

Sistema de simulaÃ§Ã£o de um hidrÃ´metro digital que replica o comportamento real de um medidor de Ã¡gua, incluindo:

- **MediÃ§Ã£o de volume** consumido
- **DetecÃ§Ã£o de ar** na tubulaÃ§Ã£o
- **SimulaÃ§Ã£o de falta d'Ã¡gua**
- **Monitoramento de pressÃ£o** e vazÃ£o
- **Interface grÃ¡fica** com imagem de hidrÃ´metro real
- **Display console** para depuraÃ§Ã£o

## ğŸ—ï¸ Arquitetura do Sistema (UML)

![Diagrama UML](https://www.plantuml.com/plantuml/png/jLZVRjks5xxtK_2NtyMSfV7o1raBemcQEdRh8caofoasB4DnB1qhn2JI9Id3wzg7sNOnx7vla1SRAJ8cJKafqc6vY2Nou-7XuNS-ykYPL21KMUIT_wKuemp9sV7uzRl1-UdvXFn_k3iw60rNNOFprwFnYxlEqVxmO7GGT4w6gt5FHWV39wkkg_5gp4YFskbqvf3y31cI3Iwo7YwXcEUuGPu-dM2YW6Kv7Xs5ZlpQ8VeloK5ASWQKkGRpjrNezow8JFR9fHAKPJ_-jDad2qxJ2lEfywbvkbx2sOncyQn-ZT6yWmfU2aY01_Dl7q--kng_FNzd1zuvGGx9HWeAlfc3W0ALuBAdbch3Zrl01-1diAG5z4dAoscEUj1ERsTdzzl7COoo6in3SbfGXSSYwDzT0w1KUhYY2pWMjHdtB3ISxZWhOvzsdkplUzHSe9J0GokzWzYX4rIO9DgQYDUtRefFOKfpcaAA8yWLr6RVzUZKnj_68q3dl0hvWNQq3ePb7Lp5Q0rDcKAnW9mVgn9o-i4CxHFTQg4UwQaNKgAxwKqb80Hc82vMUzyDAManWe8u5kzBkk339Mf6yXfeAqFrrjF4zDkmD20eQqUSEeAqT0zZUhJFPCdHrdzXQT7cHSIADYEDX6W1dqHyy62poOrGM7uMEcwWWW5IfZwhAIBMiL0OGprvILF1AtQ4Qf9mfY3bmZ9r4Bm5lAPodiClVN9Y7tmFCYKWrGE7zY6qwwbgxFgtEFVDajkKnkPzEoOMcpRCp8IVfKveffpd24o3TBl4C2LfGdazS-ivVYz6cAcAFfbKlxvT9ZUObZaABThkCTMfc9IAYqjD09fWGzBxVUjkHguQhhHdlOU9IrgKkV6xZe1vJXCG0ou4sZJHs-AbrgU17-58AkxOKZFg8M6grs4B57H64xC4AI73meBS_dYShDmtywKquIZhmcLEFT6iPpml2tp35UJjAkCeTf_Cn91sIOiWdwh_GIA6IHQcui9xsiPZXSMSZokMHZAoNUR60oyWCS2x6yuVK6eBKcENWOtOEWqUaQOq-u9u2vIe_5OrHyYfIHWSxqshJ4JT3z8Yxw2Rkzi-A0YPTEonmMeDY_H7LUHgwmdye1El_NmeQNmwN8qRpWOdx670PrmKKF74pQdb7nDQG3wgUXf2jyfwPwuR7YwUIH6nR4GUn3JldjSWcprd-tw4kna7seqAHK4PY4kbVPNTB_J4swrJznKmpA7vhBrPjVQ9HppipDGEcVFZZVdnhRGmwlaoiF-ydCrGO3esFHwOmnJpggtearUdvgrfo-jx_UMiY2FIRGx38zA-_8Qhhbt3Sv3OSkXP9bOtgnaahIWHA6RRENQ_dHGbiXjDUaYvDDQex6PxQP-y432_eOdSEsaTSy6rNIfuRSGZOldSolyvbpG1Vey1f4l-VNM7jCy_kEUKPbHnzvBmOYveWSor-7d-kvo9x0xulpGzu3aNqLNWlbtTmYMTKj6jLUrV4LSVaHGz6s__lFs34rmg58ntR9RxAzURfT82Ew96MrskExyFNObgzQu7MGc7OMNhsekgFZWCwt3NGPdhg1fjZTi3SRYgjNqyTFETeRreGEhg7pCoB8RNwk1UTK5U-MWBO7VLTOw445lsXX1OHf37Tv1LcTi3loU7fi2r8PzW3jMreoAXx5IVMxQtZy9wfKyIGS5tXTeGTzOLs04wGTFNszjhrp23qQ-tVnKnoXrbxG1tNsW6D3XRIksA6zJQ7w-X7X0-bIQiTMIRoRMsNkyeud2VE6KrU_AQAv2QygOqgFWbEumh98hF2P-jEp8m2O6QJfGbT0uvUL-QvE4YHGRN38YzlDiiIZanwd_xTpNQ6XKqkr76RBGXjcOXd1IO0AEoC6bvpKoKZVJh5wUHraoEiygAtmzZJt1jOWxYzdUxrCe4EeWHd2gtRShgnqrhQygLueMnra2crL50Cd7xcobVZ8fUCti6rvVeu-Qvv6qeN9gqk6RciYIv5hGeAj5U3kmkXMkwPdfEg9JBwvJUnLFCaALWnKoWxEHLWpLTvUR7GsrUc9yBICoi7srpy2bKl_Zxf0VuhvOE4d_c392JOGjEU7jNuqPCIJL2-smzxppJ_yeY_mS0)

### ğŸ›ï¸ Arquitetura em Camadas

O sistema segue arquitetura **MVC (Model-View-Controller)** adaptada:

- **Model** (`core`): LÃ³gica de negÃ³cio (Hidrometro, ContadorAgua, Entrada)
- **View** (`ui`): Interfaces visuais (JanelaHidrometro, Display)
- **Controller** (`Main`): CoordenaÃ§Ã£o entre camadas
- **Config** (`config`): ConfiguraÃ§Ãµes e parametrizaÃ§Ã£o

### ğŸ“¦ Estrutura de Pacotes

- **`org.example`** - Classe principal e ponto de entrada
- **`org.example.config`** - Sistema de configuraÃ§Ãµes externa
- **`org.example.core`** - NÃºcleo da simulaÃ§Ã£o do hidrÃ´metro
- **`org.example.ui`** - Interfaces de usuÃ¡rio (grÃ¡fica e console)

## ğŸš€ Como Usar

### PrÃ©-requisitos

- **Java 21** instalado
- **Git** para clonar o repositÃ³rio
- **Gradle** (ou use o Gradle wrapper incluÃ­do)
- **IntelliJ IDEA** (recomendado) ou outra IDE Java

### 1. Clonando o RepositÃ³rio

```bash
# Clone o repositÃ³rio
git clone https://github.com/tacitojuno/Simulador-Hidrometro-Analogico

# Entre no diretÃ³rio
cd Hidrometro_PP
```

### 2. ConfiguraÃ§Ã£o no IntelliJ IDEA

```bash
# Abra o IntelliJ IDEA
# File â†’ Open â†’ Selecione a pasta do projeto
# Aguarde a indexaÃ§Ã£o automÃ¡tica do projeto
# Configure Java 21: File â†’ Project Structure â†’ Project SDK
```

### 3. Executando o Projeto

#### Via Gradle Wrapper (Recomendado):
```bash
# Linux/Mac
./gradlew run

# Windows
gradlew.bat run

# Executar com logs detalhados
./gradlew run --info

# Limpar e executar
./gradlew clean run

# Compilar sem executar
./gradlew build

# Executar testes (se configurados)
./gradlew test

# Gerar JAR
./gradlew jar

# Executar JAR gerado
java -jar build/libs/Hidrometro_PP.jar
```

#### Via IntelliJ IDEA:
1. Abra `src/main/java/org/example/Main.java`
2. Clique em **Run** ou pressione `Ctrl+Shift+F10`

#### Via Terminal (Java direto):
```bash
# Compile o projeto
javac -cp src/main/java src/main/java/org/example/Main.java

# Execute
java -cp src/main/java org.example.Main
```

### 4. Estrutura de Arquivos NecessÃ¡ria

```
simulador-hidrometro/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ org/example/                    # Pacote raiz
â”‚       â”‚       â”œâ”€â”€ Main.java                   # â† Ponto de entrada
â”‚       â”‚       â”œâ”€â”€ config/                     # ConfiguraÃ§Ãµes
â”‚       â”‚       â”‚   â””â”€â”€ Configuracao.java      # â† Gerenciamento de parÃ¢metros
â”‚       â”‚       â”œâ”€â”€ core/                       # LÃ³gica principal
â”‚       â”‚       â”‚   â”œâ”€â”€ Hidrometro.java        # â† Controlador principal
â”‚       â”‚       â”‚   â”œâ”€â”€ ContadorAgua.java      # â† Mecanismo de contagem
â”‚       â”‚       â”‚   â””â”€â”€ Entrada.java           # â† Controle de entrada
â”‚       â”‚       â””â”€â”€ ui/                         # Interfaces
â”‚       â”‚           â”œâ”€â”€ JanelaHidrometro.java  # â† Interface grÃ¡fica
â”‚       â”‚           â””â”€â”€ Display.java           # â† Console (debug)
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ BaseHidrometro/                 # Recursos grÃ¡ficos
â”‚               â””â”€â”€ imagem_fundo.png            # â† Imagem do hidrÃ´metro
â”œâ”€â”€ data/                                       # Dados de configuraÃ§Ã£o
â”‚   â””â”€â”€ parametros.txt                          # â† ConfiguraÃ§Ãµes do sistema
â”œâ”€â”€ build/                                      # Arquivos gerados (Gradle)
â”‚   â”œâ”€â”€ classes/                                # Classes compiladas
â”‚   â””â”€â”€ libs/                                   # JARs gerados
â”œâ”€â”€ gradle/                                     # Wrapper do Gradle
â”‚   â””â”€â”€ wrapper/
â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚       â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ gradlew                                     # Script Gradle (Linux/Mac)
â”œâ”€â”€ gradlew.bat                                 # Script Gradle (Windows)
â”œâ”€â”€ build.gradle                                # ConfiguraÃ§Ã£o do Gradle
â”œâ”€â”€ settings.gradle                             # ConfiguraÃ§Ãµes do projeto
â””â”€â”€ README.md                                   # â† Este arquivo
```

## âš™ï¸ ConfiguraÃ§Ã£o

### Arquivo `data/parametros.txt`

```properties
# ConfiguraÃ§Ãµes do HidrÃ´metro

# PressÃ£o (bar)
pressao=2.5

# VazÃ£o (mÂ³/s)
vazao.agua=0.000833         # 50 L/min
vazao.maxima=0.00167        # 100 L/min
vazao.minima=0.0

# DetecÃ§Ã£o de Ar (%)
limite.ar=10.0
estimativa.ar.maxima=20.0
limite.deteccao.ar=0.00133  # 80 L/min

# SimulaÃ§Ã£o de Falta de Ãgua
probabilidade.falta.agua=0.01           # 1% de chance por segundo
duracao.minima.falta.agua=5000          # 5 segundos
duracao.maxima.falta.agua=7000          # 7 segundos

# Interface
intervalo.atualizacao=1000              # 1 segundo
```

## ğŸ”— Principais Relacionamentos Explicados

### **1. Main â†’ Sistema**
```java
// Main cria e coordena todos os componentes principais
Hidrometro hidrometro = new Hidrometro();           // â† NÃºcleo
Configuracao configuracao = new Configuracao();     // â† ParÃ¢metros  
JanelaHidrometro janela = new JanelaHidrometro(hidrometro, configuracao); // â† Interface
```

### **2. Hidrometro â†” Componentes Internos**
```java
// Hidrometro CONTÃ‰M (composiÃ§Ã£o) outros objetos
private ContadorAgua contadorAgua;    // â† Contagem de volume
private Display display;              // â† Output console
private Entrada entrada;              // â† Controle de entrada
private Configuracao configuracao;   // â† Acesso a parÃ¢metros
```

### **3. JanelaHidrometro â†’ Hidrometro/Configuracao**
```java
// JanelaHidrometro OBSERVA (dependency) Hidrometro/Configuracao
double volume = hidrometro.getVolumeTotal();     // â† Consulta dados
double vazao = hidrometro.getVazaoAtual();       // â† Consulta dados
double pressao = hidrometro.getPressaoAtual();   // â† Consulta dados
double estimativaAr = hidrometro.getEstimativaAr(); // â† Consulta dados

timer = new Timer(configuracao.getIntervaloAtualizacao(), e -> atualizarInterface()); //AtualizaÃ§Ã£o da janela
// Timer atualiza interface baseado no estado do Hidrometro
```

### **4. Configuracao â†” Arquivo Externo**
```java
// Configuracao CARREGA (uses) arquivo externo
Properties props = new Properties();
props.load(new FileInputStream("data/parametros.txt")); // â† LÃª arquivo
// Todos os outros componentes DEPENDEM de Configuracao para parÃ¢metros
```

### **5. Passagem de Dados Entre Camadas**
```
[Entrada] â†’ [Hidrometro] â†’ [ContadorAgua] â†’ [UI]
   â†‘             â†“              â†“           â†‘
 Sensor       Processa      Acumula     Exibe
 Values       Threads       Volume      Status
```

## ğŸ–¼ï¸ Interface GrÃ¡fica

### Recursos da Interface:

- **Contador digital** com 6 dÃ­gitos
- **Ponteiros analÃ³gicos** para decimais
- **Status em tempo real**:
    - âœ… FUNCIONAMENTO NORMAL
    - ğŸš¨ FALTA DE ÃGUA
    - âš ï¸ ALERTA - AR NA TUBULAÃ‡ÃƒO
    - âš ï¸ ALERTA - VAZAMENTO
    - ğŸ”¶ PRESSÃƒO BAIXA
    - âš« SEM FLUXO

### Dados Exibidos:

- **Volume total** acumulado
- **PressÃ£o atual** (bar)
- **Estimativa de ar** (%)
- **HorÃ¡rio** atual
- **Status** do sistema

## ğŸ”§ Funcionalidades

### SimulaÃ§Ã£o RealÃ­stica:

1. **Contagem de volume** baseada em vazÃ£o Ã— tempo
2. **DetecÃ§Ã£o automÃ¡tica** de ar na tubulaÃ§Ã£o
3. **SimulaÃ§Ã£o aleatÃ³ria** de falta d'Ã¡gua
4. **VariaÃ§Ã£o natural** de pressÃ£o e vazÃ£o
5. **Reset automÃ¡tico** quando atinge limite mÃ¡ximo

## ğŸ§ª Testando o Sistema

### CenÃ¡rios de Teste:

1. **Funcionamento normal** - Observe contagem regular
2. **Falta d'Ã¡gua** - Aguarde evento aleatÃ³rio
3. **DetecÃ§Ã£o de ar** - Durante/apÃ³s falta d'Ã¡gua
4. **Reset automÃ¡tico** - Deixe atingir 999.999 mÂ³
5. **ConfiguraÃ§Ã£o personalizada** - Modifique `parametros.txt`

## ğŸ› SoluÃ§Ã£o de Problemas

### Erros Comuns:

#### `Imagem nÃ£o encontrada`
```bash
# Verifique se existe o arquivo:
src/main/resources/BaseHidrometro/imagem_fundo.png

# Ou use uma imagem padrÃ£o (serÃ¡ gerada automaticamente)
```

#### `Arquivo de configuraÃ§Ã£o nÃ£o encontrado`
```bash
# O sistema criarÃ¡ automaticamente em:
data/parametros.txt

# Com valores padrÃ£o
```

#### `Erro de compilaÃ§Ã£o`
```bash
# Verifique se o Java 21 estÃ¡ instalado:
java -version

# Configure o SDK do projeto no IntelliJ:
# File â†’ Project Structure â†’ Project SDK

# Via Gradle:
./gradlew --version
```

#### `Problemas com Gradle`
```bash
# Limpar cache e rebuildar:
./gradlew clean build --refresh-dependencies

# Verificar wrapper:
./gradlew wrapper --gradle-version 8.5
```

## ğŸ“š PadrÃµes de Projeto Utilizados

- **Singleton** (implÃ­cito em Configuracao)
- **Observer** (JanelaHidrometro observa Hidrometro)
- **Strategy** (diferentes comportamentos por estado)
- **Facade** (Hidrometro simplifica acesso ao sistema)

## ğŸ‘¥ Contribuindo

1. FaÃ§a um **fork** do projeto
2. Crie uma **branch** para sua feature: `git checkout -b feature/nova-funcionalidade`
3. **Commit** suas mudanÃ§as: `git commit -m 'Adiciona nova funcionalidade'`
4. **Push** para a branch: `git push origin feature/nova-funcionalidade`
5. Abra um **Pull Request**

## ğŸ“„ LicenÃ§a

Este projeto foi desenvolvido para fins acadÃªmicos no **IFPB**.

---

**Desenvolvido com JAVAâ˜• para a disciplina PadrÃµes de Projetos - IFPB**